include "../std2/std_mset_lookup_range.pil"

function compact_bin_cols(expr cols[]) {
    int factor = 1;
    expr res = 0;
    if (length(cols) > 63) {
        // TODO: ERROR
    }    
    // TODO: REPEATED
    for (int i = 0; i < length(cols); ++i) {
        res = res + factor * cols[i];
        cols[i] * (1 - cols[i]) === 0;
        factor = factor * 2;
    }
    return res;
}