
const int CLIMB_KEY_TABLE_ID = 10;

subproof ClimbKeyTable(2**21) {

    col fixed CHUNK_VALUE = [[0...0x3FFFF]:2,
                             [0...0x1FFFF]:4,
                             [0...0x1FFFF]:4,
                             [0...0x7FF,0...0x7FE, 0...0x7FF, 0...0x1FE]:64]...;

    col fixed MSB_LEVEL =   [[0:524288],
                             [0:524288],
                             [0:524288],
                             [0:8191..63:8191]]...;


    col fixed CARRY_LT_IN = [[0:262144, 1:262144], 
                             [0:131072...3:131072],
                             [0:131072...3:131072],
                             [0:2048, 1:2047, 2: 2048, 2:2048]:64]...;

    col fixed CARRY_LT_OUT = [[[2, 0:131071, 3, 1:131071],
                               [0:131071, 1:131071]],
                              [[2:57344, 0:8192, 3:57344, 1:8192],
                               [2:57344, 0:8191, 3:57344, 1:8192],
                               [2:57345, 0:8191, 3:57345, 1:8191],
                               [2:57344, 0:8191, 3:57344, 1:8192]],
                              [[2:65536, 3:65536],
                               [2:65535, 0, 3:65535, 1],
                               [2:65536, 3:65536],
                               [2:65536, 3:65536]],
                              [2:8191]:64]...;

    col fixed CLK = [0:524288, 
                     1:524288, 
                     2:524288,
                     3:524224]...;

    // 
    // ────┬────┬───┬──────────────┬──────────────┬───┬──────────────┬────┬───────┬────┬────────┬───────
    //  CL │ CI │ L │ KEY_C (HEX)  │ KEY_C (UP)   │ C | KEY_C (UP&M) │ LT │ GL_C  │ CO │ ROWS   │ NOTES 
    // ────┼────┼───┼──────────────┼──────────────┼───┼──────────────┼────┼───────┼────┼────────┼───────
    //  0  │ 0  │ 0 │ 00000        │ 00000        │ 0 │ 00000        │ 1  │ 00001 │ 2  │      1 │ 
    //  0  │ 0  │ 0 │ 00001..1FFFF │ 00002..3FFFE │ 0 │ 00002..3FFFE │ 0  │ 00001 │ 0  │ 131071 │ 
    //  0  │ 0  │ 0 │ 20000        │ 40000        │ 1 │ 00000        │ 1  │ 00001 │ 3  │      1 │ 
    //  0  │ 0  │ 0 │ 20001..3FFFF │ 40002..7FFFE │ 1 │ 00002..3FFFE │ 0  │ 00001 │ 1  │ 131071 │ 262144
    // ┄┄┄┄│┄┄┄┄│┄┄┄│┄┄┄┄┄┄┄┄┄┄┄┄┄┄│┄┄┄┄┄┄┄┄┄┄┄┄┄┄│┄┄┄│┄┄┄┄┄┄┄┄┄┄┄┄┄┄│┄┄┄┄│┄┄┄┄┄┄┄│┄┄┄┄│┄┄┄┄┄┄┄┄│┄┄┄┄┄┄┄┄
    //  0  │ 1  │ 0 │ 00000..1FFFF │ 00001..3FFFF │ 0 │ 00001..3FFFF │ 0  │ 00001 │ 0  │ 131072 │ 
    //  0  │ 1  │ 0 │ 20000..3FFFF │ 40001..7FFFF │ 1 │ 00001..3FFFF │ 0  │ 00001 │ 1  │ 131072 │ 262144
    // ┄┄┄┄│┄┄┄┄│┄┄┄│┄┄┄┄┄┄┄┄┄┄┄┄┄┄│┄┄┄┄┄┄┄┄┄┄┄┄┄┄│┄┄┄│┄┄┄┄┄┄┄┄┄┄┄┄┄┄│┄┄┄┄│┄┄┄┄┄┄┄│┄┄┄┄│┄┄┄┄┄┄┄┄│┄┄┄┄┄┄┄┄
    //  1  │ 0  │ 0 │ 00000..0DFFF │ 00000..1BFFE │ 0 │ 00000..1BFFE │ 1  │ 1C000 │ 2  │  57344 │ 
    //  1  │ 0  │ 0 │ 0E000..0FFFF │ 1C000..1FFFE │ 0 │ 1C000..1FFFE │ 0  │ 1C000 │ 0  │   8192 │ 
    //  1  │ 0  │ 0 │ 10000..1DFFF │ 20000..3BFFE │ 1 │ 00000..1BFFE │ 1  │ 1C000 │ 3  │  57344 │ 
    //  1  │ 0  │ 0 │ 1E000..1FFFF │ 3C000..3FFFE │ 1 │ 1C000..1FFFE │ 0  │ 1C000 │ 1  │   8192 │ 131072
    // ┄┄┄┄│┄┄┄┄│┄┄┄│┄┄┄┄┄┄┄┄┄┄┄┄┄┄│┄┄┄┄┄┄┄┄┄┄┄┄┄┄│┄┄┄│┄┄┄┄┄┄┄┄┄┄┄┄┄┄│┄┄┄┄│┄┄┄┄┄┄┄│┄┄┄┄│┄┄┄┄┄┄┄┄│┄┄┄┄┄┄┄┄
    //  1  │ 1  │ 0 │ 00000..0DFFF │ 00001..1BFFF │ 0 │ 00001..1BFFF │ 1  │ 1C000 │ 2  │  57344 │ 
    //  1  │ 1  │ 0 │ 0E000..0FFFF │ 1C001..1FFFF │ 0 │ 1C001..1FFFF │ 0  │ 1C000 │ 0  │   8192 │ 
    //  1  │ 1  │ 0 │ 10000..1DFFF │ 20001..3BFFF │ 1 │ 00001..1BFFF │ 1  │ 1C000 │ 3  │  57344 │ 
    //  1  │ 1  │ 0 │ 1E000..1FFFF │ 3C001..3FFFF │ 1 │ 1C001..1FFFF │ 0  │ 1C000 │ 1  │   8192 │ 131072
    // ┄┄┄┄│┄┄┄┄│┄┄┄│┄┄┄┄┄┄┄┄┄┄┄┄┄┄│┄┄┄┄┄┄┄┄┄┄┄┄┄┄│┄┄┄│┄┄┄┄┄┄┄┄┄┄┄┄┄┄│┄┄┄┄│┄┄┄┄┄┄┄│┄┄┄┄│┄┄┄┄┄┄┄┄│┄┄┄┄┄┄┄┄
    //  1  │ 2  │ 0 │ 00000..0E000 │ 00000..1C000 │ 0 │ 00000..1C000 │ 1  │ 1C000 │ 2  │  57345 │ 
    //  1  │ 2  │ 0 │ 0E001..0FFFF │ 1C002..1FFFE │ 0 │ 1C002..1FFFE │ 0  │ 1C000 │ 0  │   8191 │ 
    //  1  │ 2  │ 0 │ 10000..1E000 │ 20000..3C000 │ 1 │ 00000..1C000 │ 1  │ 1C000 │ 3  │  57345 │ 
    //  1  │ 2  │ 0 │ 1E001..1FFFF │ 3C002..3FFFE │ 1 │ 1C002..1FFFE │ 0  │ 1C000 │ 1  │   8191 │ 131072
    // ┄┄┄┄│┄┄┄┄│┄┄┄│┄┄┄┄┄┄┄┄┄┄┄┄┄┄│┄┄┄┄┄┄┄┄┄┄┄┄┄┄│┄┄┄│┄┄┄┄┄┄┄┄┄┄┄┄┄┄│┄┄┄┄│┄┄┄┄┄┄┄│┄┄┄┄│┄┄┄┄┄┄┄┄│┄┄┄┄┄┄┄┄
    //  1  │ 3  │ 0 │ 00000..0DFFF │ 00001..1BFFF │ 0 │ 00001..1BFFF │ 1  │ 1C000 │ 2  │  57344 │ 
    //  1  │ 3  │ 0 │ 0E000..0FFFF │ 1C001..1FFFF │ 0 │ 1C001..1FFFF │ 0  │ 1C000 │ 0  │   8192 │ 
    //  1  │ 3  │ 0 │ 10000..1DFFF │ 20001..3BFFF │ 1 │ 00001..1BFFF │ 1  │ 1C000 │ 3  │  57344 │ 
    //  1  │ 3  │ 0 │ 1E000..1FFFF │ 3C001..3FFFF │ 1 │ 1C001..1FFFF │ 0  │ 1C000 │ 1  │   8192 │ 131072
    // ┄┄┄┄│┄┄┄┄│┄┄┄│┄┄┄┄┄┄┄┄┄┄┄┄┄┄│┄┄┄┄┄┄┄┄┄┄┄┄┄┄│┄┄┄│┄┄┄┄┄┄┄┄┄┄┄┄┄┄│┄┄┄┄│┄┄┄┄┄┄┄│┄┄┄┄│┄┄┄┄┄┄┄┄│┄┄┄┄┄┄┄┄
    //  2  │ 0  │ 0 │ 00000..0FFFF │ 00000..1FFFE │ 0 │ 00000..1FFFE │ 1  │ 1FFFF │ 2  │  65536 │ 
    //  2  │ 0  │ 0 │ 10000..1FFFF │ 20000..3FFFE │ 1 │ 00000..1FFFE │ 1  │ 1FFFF │ 3  │  65536 │ 131072
    // ┄┄┄┄│┄┄┄┄│┄┄┄│┄┄┄┄┄┄┄┄┄┄┄┄┄┄│┄┄┄┄┄┄┄┄┄┄┄┄┄┄│┄┄┄│┄┄┄┄┄┄┄┄┄┄┄┄┄┄│┄┄┄┄│┄┄┄┄┄┄┄│┄┄┄┄│┄┄┄┄┄┄┄┄│┄┄┄┄┄┄┄┄
    //  2  │ 1  │ 0 │ 00000..0FFFE │ 00001..1FFFD │ 0 │ 00001..1FFFD │ 1  │ 1FFFF │ 2  │  65535 │ 
    //  2  │ 1  │ 0 │ 0FFFF        │ 1FFFF        │ 0 │ 1FFFF        │ 0  │ 1FFFF │ 0  │      1 │ 
    //  2  │ 1  │ 0 │ 10000..1FFFE │ 20001..3FFFD │ 1 │ 00001..1FFFD │ 1  │ 1FFFF │ 3  │  65535 │ 
    //  2  │ 1  │ 0 │ 1FFFF        │ 3FFFF        │ 1 │ 1FFFF        │ 0  │ 1FFFF │ 1  │      1 │ 131072
    // ┄┄┄┄│┄┄┄┄│┄┄┄│┄┄┄┄┄┄┄┄┄┄┄┄┄┄│┄┄┄┄┄┄┄┄┄┄┄┄┄┄│┄┄┄│┄┄┄┄┄┄┄┄┄┄┄┄┄┄│┄┄┄┄│┄┄┄┄┄┄┄│┄┄┄┄│┄┄┄┄┄┄┄┄│┄┄┄┄┄┄┄┄
    //  2  │ 2  │ 0 │ 00000..0FFFF │ 00000..1FFFE │ 0 │ 00000..1FFFE │ 1  │ 1FFFF │ 2  │  65536 │ 
    //  2  │ 2  │ 0 │ 10000..1FFFF │ 20000..3FFFE │ 1 │ 00000..1FFFE │ 1  │ 1FFFF │ 3  │  65536 │ 131072
    // ┄┄┄┄│┄┄┄┄│┄┄┄│┄┄┄┄┄┄┄┄┄┄┄┄┄┄│┄┄┄┄┄┄┄┄┄┄┄┄┄┄│┄┄┄│┄┄┄┄┄┄┄┄┄┄┄┄┄┄│┄┄┄┄│┄┄┄┄┄┄┄│┄┄┄┄│┄┄┄┄┄┄┄┄│┄┄┄┄┄┄┄┄
    //  2  │ 3  │ 0 │ 00000..0FFFF │ 00001..1FFFF │ 0 │ 00001..1FFFF │ 1  │ 1FFFF │ 2  │  65536 │ 
    //  2  │ 3  │ 0 │ 10000..1FFFF │ 20001..3FFFF │ 1 │ 00001..1FFFF │ 1  │ 1FFFF │ 3  │  65536 │ 131072
    // ┄┄┄┄│┄┄┄┄│┄┄┄│┄┄┄┄┄┄┄┄┄┄┄┄┄┄│┄┄┄┄┄┄┄┄┄┄┄┄┄┄│┄┄┄│┄┄┄┄┄┄┄┄┄┄┄┄┄┄│┄┄┄┄│┄┄┄┄┄┄┄│┄┄┄┄│┄┄┄┄┄┄┄┄│┄┄┄┄┄┄┄┄
    //  3  │ 0  │(*)│ 00000..007FF │ 00000..00FFE │ 0 │ 00000..00FFE │ 1  │ 00FFF │ 2  │   2048 │   2048
    // ┄┄┄┄│┄┄┄┄│┄┄┄│┄┄┄┄┄┄┄┄┄┄┄┄┄┄│┄┄┄┄┄┄┄┄┄┄┄┄┄┄│┄┄┄│┄┄┄┄┄┄┄┄┄┄┄┄┄┄│┄┄┄┄│┄┄┄┄┄┄┄│┄┄┄┄│┄┄┄┄┄┄┄┄│┄┄┄┄┄┄┄┄
    //  3  │ 1  │(*)│ 00000..007FE │ 00001..00FFD │ 0 │ 00001..00FFD │ 1  │ 00FFF │ 2  │   2047 │   2047
    // ┄┄┄┄│┄┄┄┄│┄┄┄│┄┄┄┄┄┄┄┄┄┄┄┄┄┄│┄┄┄┄┄┄┄┄┄┄┄┄┄┄│┄┄┄│┄┄┄┄┄┄┄┄┄┄┄┄┄┄│┄┄┄┄│┄┄┄┄┄┄┄│┄┄┄┄│┄┄┄┄┄┄┄┄│┄┄┄┄┄┄┄┄
    //  3  │ 2  │(*)│ 00000..007FF │ 00000..00FFE │ 0 │ 00000..00FFE │ 1  │ 00FFF │ 2  │   2048 │   2048
    // ┄┄┄┄│┄┄┄┄│┄┄┄│┄┄┄┄┄┄┄┄┄┄┄┄┄┄│┄┄┄┄┄┄┄┄┄┄┄┄┄┄│┄┄┄│┄┄┄┄┄┄┄┄┄┄┄┄┄┄│┄┄┄┄│┄┄┄┄┄┄┄│┄┄┄┄│┄┄┄┄┄┄┄┄│┄┄┄┄┄┄┄┄
    //  3  │ 3  │(*)│ 00000..007FF │ 00001..00FFF │ 0 │ 00001..00FFF │ 1  │ 00FFF │ 2  │   2048 │   2048
    // ┄┄┄┄│┄┄┄┄│┄┄┄│┄┄┄┄┄┄┄┄┄┄┄┄┄┄│┄┄┄┄┄┄┄┄┄┄┄┄┄┄│┄┄┄│┄┄┄┄┄┄┄┄┄┄┄┄┄┄│┄┄┄┄│┄┄┄┄┄┄┄│┄┄┄┄│┄┄┄┄┄┄┄┄│┄┄┄┄┄┄┄┄
    //
    // 262.144 * 2 + 131.072 * 8 + (2.048 * 3 + 2.047) * 64 = 2.097.088 (< 2**21 = 2.097.152)
    //
    // (*) msb_level (6 bits) => 64 values
    //
    //
    // EXCLUDED VALUES (not valid values) (1)
    // ────┬────┬───┬──────────────┬──────────────┬───┬──────────────┬────┬───────┬────┬────────┬───────
    //  CL │ CI │ L │ KEY_C (HEX)  │ KEY_C (UP)   │ C | KEY_C (UP&M) │ LT │ GL_C  │ CO │ ROWS   │ NOTES 
    // ────┼────┼───┼──────────────┼──────────────┼───┼──────────────┼────┼───────┼────┼────────┼───────
    //  3  │ 0  │ 0 │ 00800..00FFF │ 01000..01FFE │ 1 │ 00000..00FFE │ 1  │ 00FFF │ 3  │   2048 │   2048
    // ┄┄┄┄│┄┄┄┄│┄┄┄│┄┄┄┄┄┄┄┄┄┄┄┄┄┄│┄┄┄┄┄┄┄┄┄┄┄┄┄┄│┄┄┄│┄┄┄┄┄┄┄┄┄┄┄┄┄┄│┄┄┄┄│┄┄┄┄┄┄┄│┄┄┄┄│┄┄┄┄┄┄┄┄│┄┄┄┄┄┄┄┄
    //  3  │ 1  │ 0 │ 007FF        │ 00FFF        │ 0 │ 00FFF        │ 0  │ 00FFF │ 0  │      1 │ 
    //  3  │ 1  │ 0 │ 00800..00FFE │ 01001..01FFD │ 1 │ 00001..00FFD │ 1  │ 00FFF │ 3  │   2047 │ 
    //  3  │ 1  │ 0 │ 00FFF        │ 01FFF        │ 1 │ 00FFF        │ 0  │ 00FFF │ 1  │      1 │   2049
    // ┄┄┄┄│┄┄┄┄│┄┄┄│┄┄┄┄┄┄┄┄┄┄┄┄┄┄│┄┄┄┄┄┄┄┄┄┄┄┄┄┄│┄┄┄│┄┄┄┄┄┄┄┄┄┄┄┄┄┄│┄┄┄┄│┄┄┄┄┄┄┄│┄┄┄┄│┄┄┄┄┄┄┄┄│┄┄┄┄┄┄┄┄
    //  3  │ 2  │ 0 │ 00800..00FFF │ 01000..01FFE │ 1 │ 00000..00FFE │ 1  │ 00FFF │ 3  │   2048 │   2048
    // ┄┄┄┄│┄┄┄┄│┄┄┄│┄┄┄┄┄┄┄┄┄┄┄┄┄┄│┄┄┄┄┄┄┄┄┄┄┄┄┄┄│┄┄┄│┄┄┄┄┄┄┄┄┄┄┄┄┄┄│┄┄┄┄│┄┄┄┄┄┄┄│┄┄┄┄│┄┄┄┄┄┄┄┄│┄┄┄┄┄┄┄┄
    //  3  │ 3  │ 0 │ 00800..00FFF │ 01001..01FFF │ 1 │ 00001..00FFF │ 1  │ 00FFF │ 3  │   2048 │   2048
    // ┄┄┄┄│┄┄┄┄│┄┄┄│┄┄┄┄┄┄┄┄┄┄┄┄┄┄│┄┄┄┄┄┄┄┄┄┄┄┄┄┄│┄┄┄│┄┄┄┄┄┄┄┄┄┄┄┄┄┄│┄┄┄┄│┄┄┄┄┄┄┄│┄┄┄┄│┄┄┄┄┄┄┄┄│┄┄┄┄┄┄┄┄

    lookup_proves(CLIMB_KEY_TABLE_ID, 1, [CLK, MSB_LEVEL, CHUNK_VALUE, CARRY_LT_IN, CARRY_LT_OUT]);
}